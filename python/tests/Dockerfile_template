FROM debian:bullseye-20231120-slim

# https://stackoverflow.com/questions/19816275/no-acceptable-c-compiler-found-in-path-when-installing-python
# install build-essential to fix
# no acceptable C compiler found in $PATH
RUN apt-get -y update; apt-get install curl build-essential -y # -y needs to be AFTER all packages to install

RUN curl -SL https://www.python.org/ftp/python/{FULL_VERSION}/Python-{FULL_VERSION}.tgz | tar -xzvf - \
    && cd Python-{FULL_VERSION} && ./configure && make && make install

COPY .. ./save_thread_result/python

CMD ["python{MAJOR_MINOR}", "save_thread_result/python/dummy_example.py"]
